{"map":"{\"version\":3,\"sources\":[\"main.509d80a7a05fb25d6c9f.hot-update.js\"],\"names\":[\"webpackHotUpdate\",\"./Src/App/Components/HOC/Auth.jsx\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"eval\"],\"mappings\":\"AAAAA,iBAAiB,OAAO,CAElBC,oCAKA,SAAUC,OAAQC,oBAAqBC,qBAE7C,aACAC,KAAK\"}","code":"webpackHotUpdate(\"main\",{\"./Src/App/Components/HOC/Auth.jsx\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/inherits.js\");\\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);\\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);\\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mobx-react */ \"./node_modules/mobx-react/index.module.js\");\\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\\n\\n\\n\\n\\n\\n\\n\\n\\nvar _dec, _class;\\n\\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\\n\\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\\n\\n\\n\\n\\nvar Authentication = (_dec = Object(mobx_react__WEBPACK_IMPORTED_MODULE_8__[\"inject\"])(\"AuthStore\"), _dec(_class = Object(mobx_react__WEBPACK_IMPORTED_MODULE_8__[\"observer\"])(_class = /*#__PURE__*/function (_React$Component) {\\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Authentication, _React$Component);\\n\\n  var _super = _createSuper(Authentication);\\n\\n  function Authentication(props) {\\n    var _this;\\n\\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Authentication);\\n\\n    _this = _super.call(this, props);\\n\\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), \"render\", function () {\\n      return _this.props.render(_this.props);\\n    });\\n\\n    return _this;\\n  }\\n\\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Authentication, [{\\n    key: \"componentDidMount\",\\n    value: function componentDidMount() {\\n      console.log(\"///////\");\\n\\n      this._checkAndRedirect();\\n    }\\n    /**\\n     *\\n     *\\n     * @param prevProps\\n     */\\n\\n  }, {\\n    key: \"componentDidUpdate\",\\n    value: function componentDidUpdate(prevProps) {\\n      var AuthStore = this.props.AuthStore;\\n\\n      if (AuthStore.token && AuthStore.name === null) {\\n        this._checkAndRedirect();\\n      }\\n    } // UNSAFE_componentWillMount() {\\n    //   // console.log(\".......\");\\n    // }\\n    // componentWillReceiveProps(nextProps) {\\n    //   if (this.props !== nextProps) {\\n    //     this._checkAndRedirect();\\n    //   }\\n    // }\\n\\n  }, {\\n    key: \"_checkAndRedirect\",\\n    value: function _checkAndRedirect() {\\n      var _this$props = this.props,\\n          AuthStore = _this$props.AuthStore,\\n          history = _this$props.history; //stop redirection after google login\\n      // if (window.ethereum) {\\n      //   window.ethereum.on(\"accountsChanged\", () => {\\n      //     AuthStore.logout();\\n      //     history.push(\"/login\");\\n      //   });\\n      // }\\n\\n      setTimeout(function () {\\n        if (!AuthStore.token) {\\n          history.push(\"/login\");\\n        }\\n\\n        if (AuthStore.token) {\\n          var token = AuthStore.token;\\n          AuthStore.loginUserWithToken(token).then(function (res) {\\n            if (res.user.username) {\\n              AuthStore.setState(\"name\", res.user.username);\\n              AuthStore.setState(\"email\", res.user.email);\\n              AuthStore.setState(\"userPool\", res.userPool);\\n              AuthStore.setState(\"user_boost\", res.user.boost);\\n              AuthStore.setState(\"mm_address\", res.user.mm_address);\\n              AuthStore.setState(\"google_id\", res.user.google_id ? res.user.google_id : null);\\n              AuthStore.setState(\"facebook_id\", res.user.facebook_id ? res.user.facebook_id : null);\\n              localStorage.setItem(\"cloudminingPool\", JSON.stringify(res.CloudminingPool));\\n            } else {\\n              history.push(\"/login\");\\n            }\\n          });\\n        }\\n      }, 1000);\\n    } //   _checkAndRedirect() {\\n    //     const { AuthStore, history } = this.props;\\n    //     /**\\n    //      * Create the bridge between the Login system\\n    //      * We check for local storage bearer_token_bridge\\n    //      * If this exists we can auto login the user based on this token\\n    //      */\\n    //     if (localStorage.getItem(\"bearer_token_bridge\") !== null) {\\n    //       const ls = JSON.parse(localStorage.getItem(\"bearer_token_bridge\"));\\n    //       if (ls.token) {\\n    //         const { history } = this.props;\\n    //         const token = ls.token;\\n    //         // We only allow users to login via token now\\n    //         // Trying to consolidate the signup process to only the website\\n    //         AuthStore.loginUserWithToken(token).then((res) => {\\n    //           console.log(res);\\n    //           if (res.username) {\\n    //             AuthStore.setState(\"name\", res.username);\\n    //             AuthStore.setState(\"token\", ls.token);\\n    //             history.push(\"/dashboard/team_mining\");\\n    //           } else {\\n    //             history.push(\"/login\");\\n    //           }\\n    //         });\\n    //       }\\n    //     } else {\\n    //       history.push(\"/login\");\\n    //     }\\n    //   }\\n\\n  }]);\\n\\n  return Authentication;\\n}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component)) || _class) || _class);\\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[\"withRouter\"])(Authentication));\\n\\n//# sourceURL=webpack:///./Src/App/Components/HOC/Auth.jsx?')}});","extractedComments":[]}